<loader>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">{{ 'modal.cancel.title.save' | translate }}</h5>
            <hr>
            <app-alert></app-alert>
            <div class="row">
                <div class="col-md-12">
                    <h6>{{ 'policy.cancels.option' | translate}}</h6>
                    <div class="form-check" *ngFor="let option of reasonData">
                        <input class="form-check-input" type="radio"  name="option" (change)="typeChange($event)"
                            id="radio-{{option.CANCEL_REASON_TYPE}}" [(ngModel)]="selectedType" [value]="option">
                        <label class="form-check-label"
                            for="radio-{{option.id}}">{{    'policy.'+option.CANCEL_REASON_TYPE | translate}}
                        </label>
                    </div>
                    <hr>
                </div>
                <div class="col-md-12">
                    <h6>{{ 'policy.cancels.reason' | translate}}</h6>
                    <div class="form-group">
                        <label>{{'policy.CANCEL_RESON_SELECT'|translate}} </label>
                        <select class="form-control form-control-sm" [(ngModel)]="selectedReason" *ngIf="selectedType">
                            <option *ngFor="let items of selectedType.CANCEL_REASONS" [value]="items.CANCEL_REASON_ID">
                                {{items.CANCEL_REASON}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group" *ngIf="selectedType && selectedType.CANCEL_REASON_TYPE === 'IMMEDIATE'" >

                        <div class="form-check" *ngFor="let item of grandData; let i = index">
                            <input class="form-check-input" [(ngModel)]="grand" type="radio" name="grand"
                                id="grandData" [value]="item.TITLE" [disabled]="!item.VALID" [checked]="item.SELECTED">
                            <label class="form-check-label" for="grandData">
                                {{item.TITLE|translate}} ({{item.AMOUNT | currency:'TRY':'symbol-narrow':'1.2-2':'tr-TR'}})
                            </label>
                        </div>
                    </div>
                </div>


            </div>
            <hr>
            <button [disabled]="selectedType == null || selectedReason == null"type="submit" class="btn btn-xs btn-primary float-right text-white" (click)="save()">{{ 'KAYDET' | translate }}</button>
            <button class="btn btn-xs btn-warning float-right text-white mr-1" (click)="cancel()">{{ 'cancel' | translate }}</button>
        </div>
    </div>
   
</loader>